{"version":3,"sources":["webpack:///./src/page/demo/demo2/demo2.vue?8f09","webpack:///src/page/demo/demo2/demo2.vue","webpack:///./src/page/demo/demo2/demo2.vue?a18e","webpack:///./src/page/demo/demo2/demo2.vue","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./src/page/demo/demo2/demo2.vue?238e","webpack:///./node_modules/core-js/modules/es.array.fill.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","staticRenderFns","attrs","_v","name","data","createAt","Date","toLocaleTimeString","_myp5","mounted","$nextTick","beforeDestroy","remove","methods","p5namespace","sketch","setup","createCanvas","rectMode","CENTER","colorMode","HSB","nbCellW","floor","width","cellW","nbCellH","height","cellH","cells","push","createVector","draw","deltaMouse","normalize","mult","d","k","add","limit","fill","h","b","rect","x","y","component","toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","value","O","length","argumentsLength","arguments","index","undefined","end","endPos","$","addToUnscopables","target","proto"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACI,IAAI,UAAUF,YAAY,eACpLG,EAAkB,CAAC,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACM,MAAM,CAAC,KAAO,iDAAiD,CAACV,EAAIW,GAAG,uBCcxN,G,oBAAA,CACEC,KAAM,gBACNC,KAFF,WAGI,MAAO,CACLC,UAAU,IAAIC,MAAOC,qBAGrBC,MAAO,OAGXC,QAVF,WAUA,WACIjB,KAAKkB,WAAU,WACb,EAAN,gDAGEC,cAfF,WAgBInB,KAAKgB,OAAShB,KAAKgB,MAAMI,UAE3BC,QAAS,CACPC,YADJ,SACA,GACM,IAGN,EACA,EAJA,KACA,KACA,KAIMC,EAAOC,MAAQ,WACbD,EAAOE,aAAa,IAAK,KACzBF,EAAOG,SAASH,EAAOI,QACvBJ,EAAOK,UAAUL,EAAOM,IAAK,GAE7BC,EAAUP,EAAOQ,MAAMR,EAAOS,MAAQC,GACtCC,EAAUX,EAAOQ,MAAMR,EAAOY,OAASC,GAEvC,IAAK,IAAb,eACUC,EAAMC,KAAKf,EAAOgB,aAAa,EAAG,KAItChB,EAAOiB,KAAO,WAGZ,IADA,IAAR,wDACA,aACU,IAAK,IAAf,cACY,IAAZ,QACA,UACA,UACA,4CAEYC,EAAWC,YACXD,EAAWE,KAAK,GAAS,GAAJC,IACrBP,EAAMQ,GAAGC,IAAIL,GACbJ,EAAMQ,GAAGE,MAAM,IAEf,IAAZ,uCACA,2BACYxB,EAAOyB,KAAKC,EAAG,EAAGC,GAElB3B,EAAO4B,KAAKC,EAAGC,EAAGpB,EAAOG,GAEzBC,EAAMQ,GAAGF,KAAK,WC3EmV,I,wBCQzWW,EAAY,eACd,EACAxD,EACAU,GACA,EACA,KACA,WACA,MAIa,aAAA8C,E,6CClBf,IAAIC,EAAW,EAAQ,QACnBC,EAAkB,EAAQ,QAC1BC,EAAoB,EAAQ,QAIhCC,EAAOC,QAAU,SAAcC,GAC7B,IAAIC,EAAIN,EAASvD,MACb8D,EAASL,EAAkBI,GAC3BE,EAAkBC,UAAUF,OAC5BG,EAAQT,EAAgBO,EAAkB,EAAIC,UAAU,QAAKE,EAAWJ,GACxEK,EAAMJ,EAAkB,EAAIC,UAAU,QAAKE,EAC3CE,OAAiBF,IAARC,EAAoBL,EAASN,EAAgBW,EAAKL,GAC/D,MAAOM,EAASH,EAAOJ,EAAEI,KAAWL,EACpC,OAAOC,I,oCCfT,W,qBCAA,IAAIQ,EAAI,EAAQ,QACZrB,EAAO,EAAQ,QACfsB,EAAmB,EAAQ,QAI/BD,EAAE,CAAEE,OAAQ,QAASC,OAAO,GAAQ,CAClCxB,KAAMA,IAIRsB,EAAiB,S","file":"js/chunk-19dcb69e.592e74be.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-demo2\"},[_vm._m(0),_c('div',{ref:\"content\",staticClass:\"content\"})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('a',{attrs:{\"href\":\"https://www.openprocessing.org/sketch/849430\"}},[_vm._v(\"LightPainting\")])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"component-demo2\">\n    <div class=\"info\">\n        <a href=\"https://www.openprocessing.org/sketch/849430\">LightPainting</a>\n    </div>\n    <div class=\"content\" ref=\"content\">\n        <!--  -->\n    </div>\n</div>\n</template>\n\n<script>\n/* message */\n// import p5 from \"p5\"\n\nexport default {\n  name: 'LightPainting',\n  data() {\n    return {\n      createAt: new Date().toLocaleTimeString(),\n\n      // p5\n      _myp5: null,\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this._myp5 = new p5(this.p5namespace, this.$refs.content);\n    });\n  },\n  beforeDestroy() {\n    this._myp5 && this._myp5.remove();\n  },\n  methods: {\n    p5namespace(sketch) {\n      const cells = [];\n      const cellW = 15;\n      const cellH = 15;\n      let nbCellW;\n      let nbCellH;\n      // sketch.preload = function(){}\n      sketch.setup = function () {\n        sketch.createCanvas(600, 600);\n        sketch.rectMode(sketch.CENTER);\n        sketch.colorMode(sketch.HSB, 1);\n\n        nbCellW = sketch.floor(sketch.width / cellW);\n        nbCellH = sketch.floor(sketch.height / cellH);\n\n        for (let i = 0; i < nbCellW * nbCellH; i += 1) {\n          cells.push(sketch.createVector(0, 0));\n        }\n      };\n\n      sketch.draw = function () {\n        // 鼠标变化量\n        const deltaMouse = sketch.createVector(sketch.mouseX - sketch.pmouseX, sketch.mouseY - sketch.pmouseY);\n        for (let i = 0; i < nbCellW; i += 1) {\n          for (let j = 0; j < nbCellH; j += 1) {\n            const k = i + j * nbCellW;\n            const x = cellW * i + cellW / 2;\n            const y = cellH * j + cellH / 2;\n            const d = Math.max(1, sketch.dist(sketch.mouseX, sketch.mouseY, x, y));// 鼠标相对cell的距离\n\n            deltaMouse.normalize();// 归一化\n            deltaMouse.mult(1 / (d * 30)); // 相对鼠标距离衰减\n            cells[k].add(deltaMouse); // 累加到单元格\n            cells[k].limit(10); // 极值限制\n\n            const h = sketch.map(cells[k].heading(), -sketch.PI, sketch.PI, 0, 1);\n            const b = sketch.min(cells[k].mag() * 100, 10);\n            sketch.fill(h, 1, b);// 累加后的向量获取色彩空间\n\n            sketch.rect(x, y, cellW, cellH);// 画cell\n\n            cells[k].mult(0.98);// 时间衰减\n          }\n        }\n      };\n    },\n  },\n};\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n$back:#424242;\n.component-demo2{\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: auto 1fr;//.class1 .class2\n    >*{\n        min-width: 0;\n        min-height: 0;\n    }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo2.vue?vue&type=template&id=1c263060&scoped=true&\"\nimport script from \"./demo2.vue?vue&type=script&lang=js&\"\nexport * from \"./demo2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo2.vue?vue&type=style&index=0&id=1c263060&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c263060\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=style&index=0&id=1c263060&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n"],"sourceRoot":""}